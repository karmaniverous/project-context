# Refactor: DRY Commander helpers

When: 2025-08-19T22:30:00Z
Why: exitOverride + argv normalization code was duplicated across CLI modules.
What changed:

- Added src/cli/stan/cli-utils.ts (installExitOverride, patchParseMethods, applyCliSafety)
- Updated CLI modules (index, init, patch, snap) to use shared helpers
  Tests/Lint:
- Tests: unchanged behavior
- Lint/Typecheck: clean
  Next:
- Consider adding a small wrapper to register common subcommand help footers
