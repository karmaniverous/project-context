@startuml stan-loop 
skinparam shadowing false
skinparam defaultFontName Monospace
skinparam state {
  BackgroundColor #f5f5f5
  BorderColor #888888
}

' Suggested stage names â€” rename to taste:
' 1) Build & Snapshot
' 2) Share & Baseline
' 3) Discuss & Patch

state "Build & Snapshot" as Build
Build: - Author/update code, do your thing
Build: - Run: stan run -as

state "Share & Baseline" as Share 
Share: - Drop outputs into chat + your comments/requirements
Share: - Run: stan snap

state "Discuss & Patch" as Discuss 
Discuss: - Discuss requirements & narrow to a solution
Discuss: - STAN provides patches + a commit message
Discuss: - Apply locally: stan patch

[*] --> Build
Build --> Share : artifacts ready
Share --> Discuss : handoff to assistant

Discuss --> Build : loop until done
Discuss --> [*] : done

@enduml
